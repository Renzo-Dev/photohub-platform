version: '3.8'

services:
  nginx_gateway:
    container_name: nginx_gateway
    build:
      context: ./services/nginx
      dockerfile: Dockerfile
    ports:
      - "80:80"
    #      - "443:443" # SSL
    volumes:
      - ./services/nginx/nginx.conf:/etc/nginx/nginx.conf

  frontend_app:
    container_name: frontend_app
    build:
      context: ./services/frontend
      dockerfile: Dockerfile
    volumes:
      - ./services/frontend/src:/app
    networks:
      - photohub
    command: >
      sh -c "npm install && npm run dev -- --host 0.0.0.0 --port 3000"
networks:
  photohub:
    driver: bridge